!function(window){function attempt(fn){try{return fn()}catch(e){window.console&&window.console.log&&window.console.log.apply&&window.console.log("wcbox Error: ",e)}}function bindEvent(element,eventName,callback){element&&element.addEventListener?element.addEventListener(eventName,callback,!1):element&&element.attachEvent&&element.attachEvent("on"+eventName,callback)}function prependSchemeIfNecessary(url){return url&&!urlWithScheme.test(url)?document.location.protocol+"//"+url:url}function createElements(){tab=document.createElement("div"),tab.setAttribute("id","wcbox_tab"),tab.setAttribute("href","#"),tab.style.display="none",tab.style.visibility="hidden",document.body.appendChild(tab),mobiletab=document.createElement("div"),mobiletab.setAttribute("id","wcbox_mobiletab"),mobiletab.setAttribute("href","#"),document.body.appendChild(mobiletab),overlay=document.createElement("div"),overlay.setAttribute("id","wcbox_overlay"),overlay.style.display="none",overlay.innerHTML='<div id="wcbox_container">  <div class="wcbox_header"><img id="wcbox_close" /></div>  <iframe id="wcbox_body" frameborder="0" scrolling="no" allowTransparency="true"></iframe></div><div id="wcbox_scrim">&nbsp;</div>',document.body.appendChild(overlay),keepopen=document.createElement("script"),keepopen.innerHTML='xclose = true;var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";var eventer = window[eventMethod];var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";eventer(messageEvent, function (e) {eval(e.data);}, false);',document.body.appendChild(keepopen),container=document.getElementById("wcbox_container"),closeButton=document.getElementById("wcbox_close"),iframe=document.getElementById("wcbox_body"),scrim=document.getElementById("wcbox_scrim"),bindEvent(tab,"click",function(){window.wcbox.show()}),bindEvent(mobiletab,"click",function(){openNewForm()}),bindEvent(closeButton,"click",function(){window.wcbox.hide()}),bindEvent(scrim,"click",function(){window.wcbox.hide()})}function configure(options){var prop;for(prop in options)options.hasOwnProperty(prop)&&("url"===prop||"assetHost"===prop?settings[prop]=prependSchemeIfNecessary(options[prop]):settings[prop]=options[prop])}function updateTabImage(){tab.innerHTML='<span id="wc_tabtextT">'+settings.tabImageURL+' <span class="wc-ico-tab-envelop wcaniBackd"></span></span>',mobiletab.innerHTML='<span id="wc_tabtextT"></span>'}function updateTab(){settings.hide_tab?(tab.style.display="none",tab.style.visibility="hidden",mobiletab.style.display="none",mobiletab.style.visibility="hidden"):(updateTabImage(),tab.setAttribute("title",settings.tabTooltip),tab.setAttribute("class","wcboxTab"+settings.tabPosition),tab.style.backgroundColor=settings.tabColor,tab.style.borderColor=settings.tabColor,tab.style.display="block",tab.style.visibility="visible",tab.setAttribute("class","wcboxTab"+settings.tabPosition+" wcanimated wcfadeIn"),iframe.style.borderColor=settings.tabColor,mobiletab.setAttribute("title",settings.tabTooltip),mobiletab.setAttribute("class","wcboxTab"+settings.tabPosition),mobiletab.style.backgroundColor=settings.tabColor,mobiletab.style.borderColor=settings.tabColor,mobiletab.setAttribute("class","wcboxTab"+settings.tabPosition+" wcanimated wcfadeIn"),iframe.style.borderColor=settings.tabColor,"undefined"==typeof wcchat?(mobiletab.style.display="block",mobiletab.style.visibility="visible"):(mobiletab.style.display="none",mobiletab.style.visibility="hidden"))}function cancelEvent(e){var event=e||window.event||{};return event.cancelBubble=!0,event.returnValue=!1,event.stopPropagation&&event.stopPropagation(),event.preventDefault&&event.preventDefault(),!1}function getDocHeight(){return Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight))}function getScrollOffsets(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}}function closeButtonURL(){return"https://f.wcentrix.com/tabhelp/external/wcbox/images/controls.png"}function loadingURL(){return"https://f.wcentrix.com/tabhelp/external/wcbox/loading.html"}function dropboxURL(){var url="https://wcentrix.net/app/form_web.html?";return url+="accountID="+settings.accountID,url+="&wcboxID="+settings.wcboxID}function initialize(options){tab||createElements(),configure(options),updateTab(),closeButton.src=closeButtonURL(),iframe.src=loadingURL(),window.addEventListener("message",function(e){"hidewcbox"===e.data&&hide()},!1)}function show(evt){return iframe.src=dropboxURL(),overlay.style.height=scrim.style.height=getDocHeight()+"px",container.style.top=getScrollOffsets().top+50+"px",overlay.style.display="block",overlay.style.visibility="visible",addEvent("WebCentrix","Form Clicked","Open Contact Form"),cancelEvent(evt)}function openNewForm(){var box=wcbox.settings(),url="https://wcentrix.net/app/form_web.html?";return url=url.replace("tabhelp",""),url+="accountID="+box.code,url+="&wcboxID="+box.box,console.log("form url",url),null==externalForm||externalForm.closed?externalForm=window.open(url,box.box,"width=375, height=450, location=no"):externalForm.focus(),cancelEvent()}function showStep(FormToShow,Subject){iframe.src=dropboxURL()+"&FormToShow="+FormToShow+"&Subject="+Subject,overlay.style.height=scrim.style.height=getDocHeight()+"px",container.style.top=getScrollOffsets().top+50+"px",overlay.style.display="block"}function hide(evt){return overlay.style.display="none",iframe.src=loadingURL(),addEvent("WebCentrix","Form Closed","Close Contact Form"),cancelEvent(evt)}function readCustomCookies(){var cookieValues=getCookie("wc-fields");cookieValues.length>0&&iframe.contentWindow.postMessage("checkCookies("+cookieValues+");","*")}function getCookie(cname){for(var name=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){var c=ca[i].trim();if(0==c.indexOf(name))return decodeURIComponent(c.substring(name.length,c.length))}return""}function resizeForm(x){iframe.style.height=x+130+"px"}function addEvent(category,event,label,value){try{ga(function(){for(var trackers=ga.getAll(),i=0;i<trackers.length;++i){var tracker=trackers[i];tracker.send("event",category,event,label,value)}})}catch(e){}try{_gaq.push(["_trackEvent",category,event,label,value])}catch(e){}}var tab,mobiletab,overlay,container,closeButton,iframe,scrim,document=window.document,urlWithScheme=/^([a-zA-Z]+:)?\/\//,settings={url:null,wcboxID:null,tabColor:"#000000",assetHost:"https://wcentrix.net/tabhelp",tabTooltip:"support",tabImageURL:null,tabPosition:"left",hide_tab:!1,request_subject:null,request_description:null,requester_name:null,requester_email:null,accountID:null,selectArea:null,codeArea:null,chatActive:null,faqActive:null,faqCustomUrl:null,bottomActive:null},externalForm=null,wcbox={settings:function(){return{code:settings.accountID,box:settings.wcboxID}},addEvent:function(category,event,label,value){attempt(function(){return addEvent(category,event,label,value)})},resize:function(options){attempt(function(){return resizeForm(options)})},init:function(options){attempt(function(){return initialize(options)})},update:function(options){attempt(function(){return initialize(options)})},openHelpCenter:function(FormToShow,Subject){attempt(function(){return showStep(FormToShow,Subject)})},render:function(evt){attempt(function(){return show(evt)})},show:function(evt){attempt(function(){return show(evt)})},readCustomCookies:function(evt){attempt(function(){return readCustomCookies(evt)})},hide:function(evt){attempt(function(){return hide(evt)})}};bindEvent(window,"load",function(){window.wcbox_params&&wcbox.init(window.wcbox_params)}),window.wcbox=wcbox}(this.window||this);